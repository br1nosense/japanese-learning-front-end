# é»˜è®¤ä¸“æ³¨å­¦ä¹ æ¨¡å¼å®ç°æŠ¥å‘Š

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

æˆåŠŸå°†æ—¥è¯­å­¦ä¹ åº”ç”¨ä¸­çš„æ‰€æœ‰å­¦ä¹ ç•Œé¢é»˜è®¤è®¾ç½®ä¸ºä¸“æ³¨å­¦ä¹ æ¨¡å¼ï¼Œç”¨æˆ·è®¿é—®å­¦ä¹ é¡µé¢æ—¶å°†ç›´æ¥è¿›å…¥æ— å¯¼èˆªæ çš„æ²‰æµ¸å¼å­¦ä¹ ç¯å¢ƒï¼ŒåŒæ—¶ä¿ç•™äº†è¿”å›æ™®é€šæ¨¡å¼çš„é€‰é¡¹ã€‚

## âœ¨ æ ¸å¿ƒå®ç°æ–¹æ¡ˆ

### 1. **è·¯ç”±é‡å®šå‘ç­–ç•¥**
é‡‡ç”¨è·¯ç”±é‡å®šå‘çš„æ–¹å¼ï¼Œå°†åŸæœ‰çš„å­¦ä¹ é¡µé¢è·¯ç”±è‡ªåŠ¨é‡å®šå‘åˆ°ä¸“æ³¨æ¨¡å¼è·¯ç”±ï¼š

```typescript
// åŸæœ‰å­¦ä¹ è·¯ç”±é…ç½® (example.ts)
{
  path: '/learning',
  children: [
    {
      path: 'words',
      name: 'word-learning',
      redirect: '/focused/words',  // é‡å®šå‘åˆ°ä¸“æ³¨æ¨¡å¼
    },
    {
      path: 'grammar',
      name: 'grammar-learning',
      redirect: '/focused/grammar',  // é‡å®šå‘åˆ°ä¸“æ³¨æ¨¡å¼
    },
    {
      path: 'listening',
      name: 'listening-learning',
      redirect: '/focused/listening',  // é‡å®šå‘åˆ°ä¸“æ³¨æ¨¡å¼
    }
  ]
}
```

### 2. **æ™®é€šæ¨¡å¼è·¯ç”±é…ç½®**
åˆ›å»ºæ–°çš„æ™®é€šå­¦ä¹ æ¨¡å¼è·¯ç”±ï¼Œä¾›ç”¨æˆ·éœ€è¦å¯¼èˆªæ æ—¶ä½¿ç”¨ï¼š

```typescript
// æ™®é€šå­¦ä¹ æ¨¡å¼è·¯ç”± (normal-learning.ts)
{
  path: '/normal-learning',
  component: TopNavLayout,  // å¸¦å¯¼èˆªæ çš„å¸ƒå±€
  children: [
    {
      path: 'words',
      component: () => import('@/views/learning/WordLearning.vue'),
    },
    {
      path: 'grammar',
      component: () => import('@/views/learning/GrammarLearning.vue'),
    },
    {
      path: 'listening',
      component: () => import('@/views/learning/ListeningLearning.vue'),
    }
  ]
}
```

## ğŸ”„ ç”¨æˆ·ä½“éªŒæµç¨‹

### é»˜è®¤å­¦ä¹ æµç¨‹
1. **ç”¨æˆ·è®¿é—®å­¦ä¹ é¡µé¢** â†’ è‡ªåŠ¨é‡å®šå‘åˆ°ä¸“æ³¨æ¨¡å¼
2. **æ²‰æµ¸å¼å­¦ä¹ ç¯å¢ƒ** â†’ æ— å¯¼èˆªæ å¹²æ‰°ï¼Œæœ€å¤§åŒ–å­¦ä¹ ç©ºé—´
3. **å®Œæ•´å­¦ä¹ åŠŸèƒ½** â†’ ä¿ç•™æ‰€æœ‰åŸæœ‰å­¦ä¹ åŠŸèƒ½

### åˆ‡æ¢åˆ°æ™®é€šæ¨¡å¼
1. **ç‚¹å‡»"æ™®é€šæ¨¡å¼"æŒ‰é’®** â†’ ä¿å­˜å½“å‰å­¦ä¹ çŠ¶æ€
2. **è·³è½¬åˆ°æ™®é€šæ¨¡å¼** â†’ å¸¦å¯¼èˆªæ çš„å­¦ä¹ ç•Œé¢
3. **çŠ¶æ€è‡ªåŠ¨æ¢å¤** â†’ ç»§ç»­ä¹‹å‰çš„å­¦ä¹ è¿›åº¦

### é€€å‡ºä¸“æ³¨æ¨¡å¼
1. **ç‚¹å‡»"é€€å‡ºä¸“æ³¨æ¨¡å¼"æŒ‰é’®** â†’ ä»ä¸“æ³¨æ¨¡å¼é€€å‡º
2. **è‡ªåŠ¨è·³è½¬** â†’ å¯¹åº”çš„æ™®é€šå­¦ä¹ æ¨¡å¼é¡µé¢
3. **ESCé”®å¿«æ·é€€å‡º** â†’ å¿«é€Ÿè¿”å›æ™®é€šæ¨¡å¼

## ğŸ› ï¸ æŠ€æœ¯å®ç°ç»†èŠ‚

### 1. **è·¯ç”±é…ç½®ä¿®æ”¹**

#### å­¦ä¹ é¡µé¢é‡å®šå‘
```typescript
// src/router/modules/example.ts
{
  path: 'words',
  name: 'word-learning',
  redirect: '/focused/words',  // ç›´æ¥é‡å®šå‘
  meta: {
    title: 'å•è¯å­¦ä¹ ',
    icon: () => h(book),
  },
}
```

#### æ™®é€šæ¨¡å¼è·¯ç”±
```typescript
// src/router/modules/normal-learning.ts
{
  path: '/normal-learning',
  name: 'normal-learning',
  component: layout,
  meta: {
    hideInMenu: true,  // ä¸åœ¨èœå•ä¸­æ˜¾ç¤º
  },
  children: [...]
}
```

### 2. **ä¸“æ³¨å­¦ä¹ å¸ƒå±€ä¿®æ”¹**

#### é€€å‡ºåŠŸèƒ½æ›´æ–°
```typescript
// src/layouts/FocusedLearningLayout.vue
function exitFocusedMode() {
  const currentPath = router.currentRoute.value.path
  if (currentPath.includes('/focused/')) {
    // ä»ä¸“æ³¨æ¨¡å¼è¿”å›åˆ°æ™®é€šå­¦ä¹ æ¨¡å¼
    const normalPath = currentPath.replace('/focused/', '/normal-learning/')
    router.push(normalPath)
  }
}
```

### 3. **å­¦ä¹ é¡µé¢æŒ‰é’®æ›´æ–°**

#### ä¸“æ³¨æ¨¡å¼æŒ‰é’® â†’ æ™®é€šæ¨¡å¼æŒ‰é’®
```vue
<!-- åŸæ¥çš„ä¸“æ³¨æ¨¡å¼æŒ‰é’® -->
<n-button @click="enterFocusMode">
  <Icon icon="noto:cherry-blossom" />
  ä¸“æ³¨æ¨¡å¼
</n-button>

<!-- ç°åœ¨çš„æ™®é€šæ¨¡å¼æŒ‰é’® -->
<n-button @click="enterNormalMode">
  <Icon icon="noto:house" />
  æ™®é€šæ¨¡å¼
</n-button>
```

#### çŠ¶æ€ç®¡ç†å‡½æ•°æ›´æ–°
```typescript
// è¿›å…¥æ™®é€šæ¨¡å¼
function enterNormalMode() {
  const currentState = {
    currentIndex: currentIndex.value,
    showAnswer: showAnswer.value,
    stats: { ...stats.value }
  }
  sessionStorage.setItem('learningState', JSON.stringify(currentState))
  router.push('/normal-learning/words')
}
```

### 4. **çŠ¶æ€ç®¡ç†ç³»ç»Ÿ**

#### çŠ¶æ€ä¿å­˜å’Œæ¢å¤
```typescript
// ä¿å­˜çŠ¶æ€åˆ° sessionStorage
function saveState(key: string, state: any) {
  sessionStorage.setItem(key, JSON.stringify(state))
}

// æ¢å¤çŠ¶æ€
function restoreLearningState(key: string) {
  const savedState = sessionStorage.getItem(key)
  if (savedState) {
    const state = JSON.parse(savedState)
    // æ¢å¤å„ç§çŠ¶æ€...
    sessionStorage.removeItem(key)
  }
}
```

## ğŸ¨ UI/UX ä¼˜åŒ–

### 1. **æ™®é€šæ¨¡å¼æŒ‰é’®æ ·å¼**
```scss
.normal-mode-btn {
  background: var(--card-color);
  border: 2px solid var(--secondary-color);
  color: var(--secondary-color);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.normal-mode-btn:hover {
  background: var(--secondary-color);
  color: white;
  transform: translateY(-2px);
}
```

### 2. **å›¾æ ‡æ›´æ–°**
- **æ™®é€šæ¨¡å¼æŒ‰é’®**: `noto:house` (æˆ¿å­å›¾æ ‡)
- **ä¸“æ³¨æ¨¡å¼é€€å‡º**: `noto:cross-mark` (å‰å·å›¾æ ‡)
- **è®¾ç½®æŒ‰é’®**: `noto:gear` (é½¿è½®å›¾æ ‡)

### 3. **è§†è§‰åé¦ˆ**
- **æ‚¬åœæ•ˆæœ**: æŒ‰é’®è½»å¾®ä¸Šç§»å’Œé¢œè‰²å˜åŒ–
- **è¿‡æ¸¡åŠ¨ç”»**: å¹³æ»‘çš„0.3sç¼“åŠ¨è¿‡æ¸¡
- **çŠ¶æ€æŒ‡ç¤º**: æ¸…æ™°çš„æŒ‰é’®çŠ¶æ€åŒºåˆ†

## ğŸ“± æ”¯æŒçš„å­¦ä¹ æ¨¡å¼

### 1. **å•è¯å­¦ä¹ ** (`/learning/words` â†’ `/focused/words`)
- âœ… é»˜è®¤ä¸“æ³¨æ¨¡å¼
- âœ… æ™®é€šæ¨¡å¼åˆ‡æ¢
- âœ… çŠ¶æ€ä¿å­˜æ¢å¤
- âœ… å®Œæ•´å­¦ä¹ åŠŸèƒ½

### 2. **è¯­æ³•ç»ƒä¹ ** (`/learning/grammar` â†’ `/focused/grammar`)
- âœ… é»˜è®¤ä¸“æ³¨æ¨¡å¼
- âœ… æ™®é€šæ¨¡å¼åˆ‡æ¢
- âœ… çŠ¶æ€ä¿å­˜æ¢å¤
- âœ… å®Œæ•´ç»ƒä¹ åŠŸèƒ½

### 3. **å¬åŠ›ç»ƒä¹ ** (`/learning/listening` â†’ `/focused/listening`)
- âœ… é»˜è®¤ä¸“æ³¨æ¨¡å¼
- âœ… æ™®é€šæ¨¡å¼åˆ‡æ¢
- âœ… çŠ¶æ€ä¿å­˜æ¢å¤
- âœ… å®Œæ•´å¬åŠ›åŠŸèƒ½

## ğŸ”§ æŠ€æœ¯ç‰¹æ€§

### 1. **è·¯ç”±ç³»ç»Ÿ**
- âœ… è‡ªåŠ¨é‡å®šå‘åˆ°ä¸“æ³¨æ¨¡å¼
- âœ… æ™®é€šæ¨¡å¼å¤‡ç”¨è·¯ç”±
- âœ… åŠ¨æ€è·¯ç”±å¯¼å…¥
- âœ… è·¯ç”±å…ƒä¿¡æ¯é…ç½®

### 2. **çŠ¶æ€ç®¡ç†**
- âœ… SessionStorageçŠ¶æ€æŒä¹…åŒ–
- âœ… è·¨æ¨¡å¼çŠ¶æ€åŒæ­¥
- âœ… è‡ªåŠ¨çŠ¶æ€æ¸…ç†
- âœ… é”™è¯¯å¤„ç†æœºåˆ¶

### 3. **ç”¨æˆ·ä½“éªŒ**
- âœ… æ— ç¼æ¨¡å¼åˆ‡æ¢
- âœ… å­¦ä¹ è¿›åº¦ä¿æŒ
- âœ… å¿«æ·é”®æ”¯æŒ (ESC)
- âœ… å“åº”å¼è®¾è®¡

### 4. **æ€§èƒ½ä¼˜åŒ–**
- âœ… æ‡’åŠ è½½è·¯ç”±ç»„ä»¶
- âœ… çŠ¶æ€ç¼“å­˜æœºåˆ¶
- âœ… æœ€å°åŒ–é‡æ¸²æŸ“
- âœ… å†…å­˜ç®¡ç†ä¼˜åŒ–

## ğŸ“Š ç”¨æˆ·ä½“éªŒæå‡

### 1. **ä¸“æ³¨åº¦æå‡**
- **é»˜è®¤æ²‰æµ¸å¼**: ç”¨æˆ·ç›´æ¥è¿›å…¥æ— å¹²æ‰°å­¦ä¹ ç¯å¢ƒ
- **æœ€å¤§åŒ–ç©ºé—´**: ç§»é™¤å¯¼èˆªæ é‡Šæ”¾æ›´å¤šå­¦ä¹ ç©ºé—´
- **å‡å°‘åˆ†å¿ƒ**: ä¸“æ³¨äºå­¦ä¹ å†…å®¹æœ¬èº«

### 2. **çµæ´»æ€§ä¿æŒ**
- **å¯é€‰æ™®é€šæ¨¡å¼**: éœ€è¦å¯¼èˆªæ—¶å¯éšæ—¶åˆ‡æ¢
- **çŠ¶æ€è¿ç»­æ€§**: æ¨¡å¼åˆ‡æ¢ä¸å½±å“å­¦ä¹ è¿›åº¦
- **å¿«é€Ÿè®¿é—®**: ä¸€é”®åˆ‡æ¢ä¸åŒæ¨¡å¼

### 3. **å­¦ä¹ æ•ˆç‡**
- **å‡å°‘æ“ä½œæ­¥éª¤**: ç›´æ¥è¿›å…¥å­¦ä¹ çŠ¶æ€
- **è¿è´¯å­¦ä¹ ä½“éªŒ**: çŠ¶æ€è‡ªåŠ¨ä¿å­˜æ¢å¤
- **ä¸ªæ€§åŒ–é€‰æ‹©**: ç”¨æˆ·å¯é€‰æ‹©åå¥½æ¨¡å¼

## ğŸš€ å®ç°æ•ˆæœ

### ç”¨æˆ·è®¿é—®æµç¨‹
1. **è®¿é—® `/learning/words`** â†’ **è‡ªåŠ¨é‡å®šå‘åˆ° `/focused/words`**
2. **è¿›å…¥ä¸“æ³¨å­¦ä¹ æ¨¡å¼** â†’ **æ²‰æµ¸å¼å­¦ä¹ ç•Œé¢**
3. **éœ€è¦å¯¼èˆªæ—¶** â†’ **ç‚¹å‡»"æ™®é€šæ¨¡å¼"æŒ‰é’®**
4. **åˆ‡æ¢åˆ°æ™®é€šæ¨¡å¼** â†’ **å¸¦å¯¼èˆªæ çš„å­¦ä¹ ç•Œé¢**
5. **é€€å‡ºä¸“æ³¨æ¨¡å¼** â†’ **ESCé”®æˆ–é€€å‡ºæŒ‰é’®**

### æŠ€æœ¯ä¼˜åŠ¿
- âœ… **å‘åå…¼å®¹**: åŸæœ‰URLä»ç„¶æœ‰æ•ˆ
- âœ… **ç”¨æˆ·å‹å¥½**: é»˜è®¤æœ€ä½³å­¦ä¹ ä½“éªŒ
- âœ… **çµæ´»åˆ‡æ¢**: ä¿ç•™ç”¨æˆ·é€‰æ‹©æƒ
- âœ… **çŠ¶æ€ä¸€è‡´**: è·¨æ¨¡å¼æ•°æ®åŒæ­¥

ç°åœ¨æ—¥è¯­å­¦ä¹ åº”ç”¨å·²ç»æˆåŠŸå®ç°äº†é»˜è®¤ä¸“æ³¨å­¦ä¹ æ¨¡å¼ï¼ğŸŒ¸âœ¨

ç”¨æˆ·è®¿é—®ä»»ä½•å­¦ä¹ é¡µé¢æ—¶éƒ½ä¼šç›´æ¥è¿›å…¥æ²‰æµ¸å¼çš„ä¸“æ³¨å­¦ä¹ ç¯å¢ƒï¼ŒåŒæ—¶ä¿ç•™äº†åˆ‡æ¢åˆ°æ™®é€šæ¨¡å¼çš„çµæ´»æ€§ã€‚è¿™ç§è®¾è®¡æ—¢æå‡äº†å­¦ä¹ ä¸“æ³¨åº¦ï¼Œåˆä¿æŒäº†ç”¨æˆ·çš„é€‰æ‹©è‡ªç”±åº¦ã€‚
